"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[266],{9266:function(e,i,n){n.r(i),n.d(i,{default:function(){return b}});var s=n(4165),l=n(1413),t=n(5861),d=n(9439),a=n(2801),c=n(5403),o=n(7689),r=n(1087),v=n(2791),u=n(8075),m=n(6862),h=n(9806),x=n(1632),p=n(6148),j=n(4925),N=n(184),f=["doctor"],g=function(e){var i,n,s,t=e.doctor,d=void 0===t?{}:t,a=(0,j.Z)(e,f);return(0,N.jsx)("div",(0,l.Z)((0,l.Z)({className:" col-lg-12 col-xl-6 mxil  px-0 "},a),{},{children:(0,N.jsx)(r.rU,{to:"/clinic-detail/".concat(null===d||void 0===d?void 0:d.organizationId),children:(0,N.jsxs)("div",{className:" doctor-card light-shadow mx-2 p-2",children:[(0,N.jsx)("div",{className:"doctor-img-container",children:(0,N.jsx)("img",{src:null!==d&&void 0!==d&&d.photo?(0,c.a9)(null===d||void 0===d?void 0:d.photo):p.sL,className:"w-100 h-100 curved light-shadow"})}),(0,N.jsxs)("div",{className:"dr-info",children:[(0,N.jsx)("div",{className:"mb-0 fs-5 font-weight-bold dr-name px-1",children:(0,c.$G)(null===d||void 0===d?void 0:d.name,20)}),(0,N.jsxs)("div",{className:"mb-1 fs-12 px-2 specialization",children:[(0,c.$G)((null===d||void 0===d||null===(i=d.specialization)||void 0===i?void 0:i.name)||(null!==d&&void 0!==d&&null!==(n=d.specialization)&&void 0!==n&&n.length?null===d||void 0===d||null===(s=d.specialization[0])||void 0===s?void 0:s.name:"-"),21)," "]}),(0,N.jsxs)("div",{className:"mb-1 address fs-12",children:[" ",function(e){var i=null===e||void 0===e?void 0:e.find((function(e){return e.day===p.lY[(new Date).getDay()]}));return i?(0,N.jsxs)("div",{className:"",children:[(0,N.jsxs)("span",{children:["Open: ",(0,c.YZ)(null===i||void 0===i?void 0:i.open)," "]}),"\xa0\xa0",(0,N.jsxs)("span",{children:["Close: ",(0,c.YZ)(null===i||void 0===i?void 0:i.close)," "]})]}):(0,N.jsx)(N.Fragment,{children:"Today Not Available"})}(null===d||void 0===d?void 0:d.timing)]})]})]})})}))};var b=function(){var e,i,n,j,f,b,k,w,y=(0,o.UO)(),Z=(0,v.useState)({}),S=(0,d.Z)(Z,2),C=S[0],O=S[1],_=(0,v.useState)([]),L=(0,d.Z)(_,2),I=L[0],z=L[1],E=(0,v.useState)([]),T=(0,d.Z)(E,2),Y=T[0],A=T[1],G=(0,v.useState)("00"),F=(0,d.Z)(G,2),J=F[0],M=F[1],U=(0,v.useState)(!1),$=(0,d.Z)(U,2),D=$[0],B=$[1],P=(0,v.useState)([]),R=(0,d.Z)(P,2),W=R[0],q=R[1],H=(0,v.useState)(!1),K=(0,d.Z)(H,2),Q=K[0],V=K[1],X=JSON.parse(localStorage.getItem("user")),ee=(0,v.useState)([]),ie=(0,d.Z)(ee,2),ne=ie[0],se=ie[1],le=(0,v.useState)(0),te=(0,d.Z)(le,2),de=te[0],ae=te[1],ce=JSON.parse(localStorage.getItem("token")),oe=(0,o.s0)();(0,v.useEffect)((function(){xe(),he(),Ne(),pe(),m.Z.addEventListener("re-appointment",(function(e){return ve(JSON.parse(e.data))})),m.Z.addEventListener("new-appointment",(function(e){return re(JSON.parse(e.data))})),m.Z.addEventListener("status",(function(e){return ue(JSON.parse(e.data))})),m.Z.addEventListener("booking-status",(function(e){return me(JSON.parse(e.data))}))}),[]);var re=function(e){xe()},ve=function(e){},ue=function(e){he(),xe(),pe()},me=function(e){V(e.bookingStatus)},he=function(){var e=(0,t.Z)((0,s.Z)().mark((function e(){var i,n,t,d,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.be.get("/clinic-detail",(0,l.Z)({params:{_id:y.id}},(0,c.Ek)()));case 3:n=e.sent,t=n.data,d=null===t||void 0===t?void 0:t.detail,O(d),q(null===d||void 0===d?void 0:d.timing),"00",a=(null===d||void 0===d?void 0:d.token)<10?"0".concat(null===d||void 0===d?void 0:d.token):(null===d||void 0===d?void 0:d.token)||"000",M(a),V(null===(i=t.detail)||void 0===i?void 0:i.bookingStatus),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),xe=function(){var e=(0,t.Z)((0,s.Z)().mark((function e(){var i,n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.be.get("/waiting-list/".concat(y.id),(0,c.Ek)());case 3:i=e.sent,n=i.data,z(null===n||void 0===n?void 0:n.appointment),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),pe=function(){var e=(0,t.Z)((0,s.Z)().mark((function e(){var i,n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.be.get("/unreached-list/".concat(y.id),(0,c.Ek)());case 3:i=e.sent,n=i.data,A(null===n||void 0===n?void 0:n.unreached),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),je=function(e){ae(e)},Ne=function(){var e=(0,t.Z)((0,s.Z)().mark((function e(){var i,n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.be.get("/notice/".concat(y.id));case 3:i=e.sent,n=i.data,se(null===n||void 0===n?void 0:n.notices),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("div",{className:"",children:[(0,N.jsx)("div",{className:"box"}),(0,N.jsxs)("div",{className:"row mx-0 p-0",children:[(0,N.jsx)("div",{className:"col-lg-6 col-sm-12 col-md-12 my-2",children:(0,N.jsx)("div",{style:{width:"100%",height:"300px"},children:(0,N.jsx)("img",{className:"w-100 h-100 rounded",src:null!==C&&void 0!==C&&C.photo?(0,c.a9)(null===C||void 0===C?void 0:C.photo):a})})}),(0,N.jsx)("div",{className:"col-lg-6 bg-light my-2",children:(0,N.jsxs)("div",{className:"rounded",style:{border:"5px solid #053d42",height:"300px"},children:[(0,N.jsx)("div",{className:" ",children:(0,N.jsx)("h4",{className:"clinic-detail-name ",children:(null===C||void 0===C||null===(e=C.hospital)||void 0===e?void 0:e.name)||C.name})}),(0,N.jsxs)("div",{className:"d-flex  align-items-center justify-content-between mx-2 ",style:{height:"calc(100% - 50px)"},children:[(0,N.jsx)("div",{className:"d-flex flex-row  justify-content-between  ",children:(0,N.jsxs)("div",{className:"clinic-detail-mobile",children:["Clinic"!==C.organizationType&&(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)("h4",{className:"text-light clinic-detail-drName rounded",children:["Dept. ",C.name," "]})}),(0,N.jsx)("div",{children:(null===C||void 0===C||null===(i=C.specialization)||void 0===i?void 0:i.map((function(e){return(0,N.jsx)("h6",{className:" text-light clinic-detail-drName rounded ",children:e.name})})))||"Specialization"}),(null===C||void 0===C?void 0:C.room)&&(0,N.jsxs)("h4",{className:"text-light clinic-detail-drName rounded",children:["Room No: ",null===C||void 0===C?void 0:C.room]})]})}),(0,N.jsx)("div",{className:"current-clicnic-token ml-5 d-flex flex-row",style:{position:"relative"},children:(0,N.jsx)("h1",{className:"px-2",children:ce?J:(0,N.jsx)(h.G,{className:"text-muted ",icon:x.byT})})})]})]})})]}),("PT"===(null===X||void 0===X?void 0:X.userType)||!X)&&(0,N.jsxs)("div",{className:"bookappoint cursor-pointer",onClick:function(){return Q?(X||oe("/login",{state:{redirectTo:window.location.pathname}}),void B(!0)):null},children:[(0,N.jsx)(h.G,{className:"bookappointment-icon",icon:x.a1i}),(0,N.jsx)("h5",{className:"p-2",children:Q?"Book Appointment":"Booking Closed"})]}),(0,N.jsxs)("div",{className:"",children:[(0,N.jsxs)("div",{className:"row clinic-details-row mt-3 mx-0",children:[(0,N.jsxs)("div",{className:"col-md-6 ",children:[(0,N.jsxs)("div",{className:"wating-area-clinic",children:[(0,N.jsxs)("div",{className:"d-flex justify-content-around waitinglistContainer bg-success",children:[(0,N.jsx)("div",{className:"text-center p-2",children:(0,N.jsx)("button",{onClick:function(){return je(0)},className:"rounded position-inline p-2 btn-primary   ".concat(0===de?"activeList":""),children:"Waiting List"})}),(0,N.jsx)("div",{className:"text-center  p-2",children:(0,N.jsx)("button",{onClick:function(){return je(1)},className:"rounded position-inline p-2 btn-primary  ".concat(1===de?"activeList":""),children:"Unreached List"})})]}),ce?(0,N.jsx)(N.Fragment,{children:0===de?(0,N.jsx)("div",{className:"token-list-container  rounded ",children:null!==I&&void 0!==I&&I.length?(0,N.jsx)("ul",{className:"token-list $",children:I.map((function(e,i){return(0,N.jsx)("li",{className:" p-2",children:(0,N.jsx)("div",{className:"mt-auto",children:(0,N.jsxs)("div",{className:"token-list-item d-flex flex-row justify-content-start ".concat((null===e||void 0===e?void 0:e.token)==parseInt(J)?"token-list-active":""),children:[(0,N.jsx)("div",{className:"token mx-2 ".concat((null===e||void 0===e?void 0:e.token)==parseInt(J)?"token-active":""),children:(0,N.jsx)("h4",{className:"token-list-number",children:null===e||void 0===e?void 0:e.token})}),(0,N.jsxs)("div",{className:"token-list-detail",children:[(0,N.jsx)("h4",{className:"list-patient-name mb-1",children:null===e||void 0===e?void 0:e.name}),(0,N.jsxs)("p",{className:"mb-0 list-mobile-no",children:["Mobile Number : +91"," ",null!==e&&void 0!==e&&e.phone?"xxx-xxx-".concat(null===e||void 0===e?void 0:e.phone.slice(-4)):"----------"]}),(0,N.jsxs)("p",{className:"mb-0 list-address",children:["Address : ",null===e||void 0===e?void 0:e.address]})]})]})})},i)}))}):(0,N.jsx)("span",{children:"No Appointment"})}):(0,N.jsx)("div",{className:"token-list-container  rounded ",children:null!==Y&&void 0!==Y&&Y.length?(0,N.jsx)("ul",{className:"token-list $",children:Y.map((function(e,i){return(0,N.jsx)("li",{className:" p-2",children:(0,N.jsx)("div",{className:"mt-auto",children:(0,N.jsxs)("div",{className:"token-list-item d-flex flex-row justify-content-start ".concat((null===e||void 0===e?void 0:e.token)==parseInt(J)?"token-list-active":""),children:[(0,N.jsx)("div",{className:"token mx-2 ".concat((null===e||void 0===e?void 0:e.token)==parseInt(J)?"token-active":""),children:(0,N.jsx)("h4",{className:"token-list-number",children:null===e||void 0===e?void 0:e.token})}),(0,N.jsxs)("div",{className:"token-list-detail",children:[(0,N.jsx)("h4",{className:"list-patient-name mb-1",children:null===e||void 0===e?void 0:e.name}),(0,N.jsxs)("p",{className:"mb-0 list-mobile-no",children:["Mobile Number : +91"," ",null!==e&&void 0!==e&&e.phone?"xxx-xxx-".concat(null===e||void 0===e?void 0:e.phone.slice(-4)):"----------"]}),(0,N.jsxs)("p",{className:"mb-0 list-address",children:["Address : ",null===e||void 0===e?void 0:e.address]})]})]})})},i)}))}):(0,N.jsx)("span",{children:"No Appointment "})})}):(0,N.jsxs)("div",{className:"d-flex justify-content-center align-items-center flex-column h-100",children:[(0,N.jsxs)("h4",{className:"text-muted",children:[(0,N.jsx)(h.G,{icon:x.byT})," Not Authenticated"]}),(0,N.jsx)("p",{className:"my-2",children:"Login first to check all the appointments. "}),(0,N.jsx)(r.rU,{to:"/login",className:"bg-primary text-light rounded w-50 m-3 py-2 text-center",children:"LogIn"})]})]}),(null===C||void 0===C||null===(n=C.doctors)||void 0===n?void 0:n.length)>0&&(0,N.jsxs)("section",{children:[(0,N.jsx)("h5",{children:"Doctors"}),(0,N.jsx)("div",{className:"row",children:null===C||void 0===C||null===(j=C.doctors)||void 0===j?void 0:j.map((function(e){return(0,N.jsx)(g,{doctor:e})}))})]})]}),(0,N.jsxs)("div",{className:"col-md-6 ",children:[(0,N.jsxs)("div",{className:"clinic-info-details pb-3 mb-3",children:[(0,N.jsx)("h4",{className:"mb-3 pt-2  text-center text-light",children:"Info"}),(0,N.jsx)("div",{className:"bg-white m-2 rounded p-2",children:(0,N.jsxs)("h6",{children:["Consultation Fee"," ",(0,N.jsxs)("span",{className:"ms-4",children:["\u20b9",null===C||void 0===C?void 0:C.fee]})]})}),(0,N.jsxs)("div",{className:"bg-white m-2 rounded p-2",children:[(0,N.jsx)("h6",{className:"mx-1",children:"Services"}),(0,N.jsx)("div",{className:"d-flex flex-wrap",children:(null===C||void 0===C||null===(f=C.services)||void 0===f?void 0:f.length)>0?null===C||void 0===C||null===(b=C.services)||void 0===b?void 0:b.map((function(e){return(0,N.jsx)("div",{className:"service-tube m-1",children:null===e||void 0===e?void 0:e.name})})):null===C||void 0===C||null===(k=C.hospital)||void 0===k||null===(w=k.services)||void 0===w?void 0:w.map((function(e){return(0,N.jsx)("div",{className:"service-tube m-1",children:null===e||void 0===e?void 0:e.name})}))})]}),(0,N.jsxs)("div",{className:"bg-white m-2 rounded p-2",children:[(0,N.jsx)("h6",{children:"Important Notice"}),(null===ne||void 0===ne?void 0:ne.length)>0&&ne.map((function(e){return(0,N.jsxs)("div",{style:{borderLeft:"5px solid grey",paddingLeft:"1rem"},children:[(0,N.jsx)("h6",{className:"text-danger",children:e.title}),(0,N.jsx)("p",{className:"text-danger",children:e.description})]})}))]})]}),(0,N.jsx)("div",{className:"text-center",children:(0,N.jsx)("div",{className:"pr-2 m-text",children:(0,N.jsxs)("table",{className:"table  table-bordered",children:[(0,N.jsx)("thead",{className:"thead-light",children:"Clinic"===(null===C||void 0===C?void 0:C.organizationType)?(0,N.jsxs)("tr",{children:[(0,N.jsx)("th",{children:"Session"}),(0,N.jsx)("th",{children:"Morn Open"}),(0,N.jsx)("th",{children:"Morn Close"}),(0,N.jsx)("th",{children:"Even Open"}),(0,N.jsx)("th",{children:"Even Close"})]}):(0,N.jsxs)("tr",{children:[(0,N.jsx)("th",{children:"Session"}),(0,N.jsx)("th",{children:"Open"}),(0,N.jsx)("th",{children:"Close"})]})}),(0,N.jsx)("tbody",{children:Object.entries(p.vr).map((function(e){var i=(0,d.Z)(e,2);return function(e,i,n){var s,l,t,d,a=W.find((function(i){return i.day===e}));return"Clinic"===n?(0,N.jsxs)("tr",{children:[(0,N.jsx)("td",{children:i}),(0,N.jsx)("td",{children:(0,c.YZ)(null===a||void 0===a||null===(s=a.morning)||void 0===s?void 0:s.open)}),(0,N.jsx)("td",{children:(0,c.YZ)(null===a||void 0===a||null===(l=a.morning)||void 0===l?void 0:l.close)}),(0,N.jsx)("td",{children:(0,c.YZ)(null===a||void 0===a||null===(t=a.evening)||void 0===t?void 0:t.open)}),(0,N.jsx)("td",{children:(0,c.YZ)(null===a||void 0===a||null===(d=a.evening)||void 0===d?void 0:d.close)})]}):(0,N.jsxs)("tr",{children:[(0,N.jsx)("td",{children:i}),(0,N.jsx)("td",{children:(0,c.YZ)(null===a||void 0===a?void 0:a.open)}),(0,N.jsx)("td",{children:(0,c.YZ)(null===a||void 0===a?void 0:a.close)})]})}(i[0],i[1],null===C||void 0===C?void 0:C.organizationType)}))})]})})})]})]}),(0,N.jsxs)("div",{className:"contact-details-clinic pt-3 flex-wrap",children:[(0,N.jsxs)("div",{className:"sigma_info style-26 d-flex",children:[(0,N.jsx)("div",{className:"sigma_info-title",children:(0,N.jsx)("span",{className:"sigma_info-icon clinic-address-icon-container me-2",children:(0,N.jsx)(h.G,{className:"clinic-address-icon",icon:x.Mzo})})}),(0,N.jsx)("div",{className:"sigma_info-description",children:(0,N.jsxs)("div",{className:"clinic-footer-address",children:[(0,N.jsx)("p",{children:"Our Address"}),(0,N.jsx)("p",{className:"secondary-color text-balance fs-12",children:(0,N.jsx)("b",{children:null===C||void 0===C?void 0:C.address})})]})})]}),(0,N.jsxs)("div",{className:"sigma_info style-26 d-flex",children:[(0,N.jsx)("div",{className:"sigma_info-title d-flex",children:(0,N.jsxs)("span",{className:"sigma_info-icon clinic-address-icon-container me-2",children:[(0,N.jsx)(h.G,{className:"clinic-address-icon",icon:x.j1w}),(0,N.jsx)("i",{className:"fal fa-phone"})]})}),(0,N.jsxs)("div",{className:"sigma_info-description",children:[(0,N.jsx)("p",{children:"Call Us"}),(0,N.jsx)("p",{className:"secondary-color fs-12",children:(0,N.jsx)("b",{children:(0,c.CN)(null===C||void 0===C?void 0:C.phone)})})]})]}),(0,N.jsxs)("div",{className:"sigma_info style-26 d-flex",children:[(0,N.jsx)("div",{className:"sigma_info-title",children:(0,N.jsx)("span",{className:"sigma_info-icon clinic-address-icon-container me-2",children:(0,N.jsx)(h.G,{className:"clinic-address-icon",icon:x.FU$})})}),(0,N.jsxs)("div",{className:"sigma_info-description",children:[(0,N.jsx)("p",{children:"Our Mail"}),(0,N.jsx)("p",{className:"secondary-color text-balance fs-12",children:(0,N.jsx)("b",{children:null===C||void 0===C?void 0:C.email})})]})]})]})]})]}),D&&(0,N.jsx)(u.Z,{isOpen:D,setIsOpen:B,departmentId:null===C||void 0===C?void 0:C._id,refresh:function(){}})]})}},2801:function(e,i,n){e.exports=n.p+"static/media/no-banner.7ad9466fef0476060573.jpg"}}]);
//# sourceMappingURL=266.e6003f12.chunk.js.map