"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[342],{1342:function(e,n,i){i.r(n);var s=i(4165),l=i(1413),t=i(5861),a=i(9439),c=i(5812),d=i(5403),o=i(7689),r=i(2791),u=i(8075),v=i(6862),h=i(9806),m=i(1632),x=i(6148),p=i(184);n.default=function(){var e,n,i,j,N,f,b,g=(0,o.UO)(),k=(0,r.useState)({}),Z=(0,a.Z)(k,2),w=Z[0],y=Z[1],S=(0,r.useState)([]),C=(0,a.Z)(S,2),O=C[0],_=C[1],E=(0,r.useState)([]),I=(0,a.Z)(E,2),L=I[0],z=I[1],M=(0,r.useState)("00"),T=(0,a.Z)(M,2),Y=T[0],J=T[1],A=(0,r.useState)(!1),F=(0,a.Z)(A,2),G=F[0],U=F[1],D=(0,r.useState)([]),$=(0,a.Z)(D,2),B=$[0],R=$[1],P=(0,r.useState)(!1),W=(0,a.Z)(P,2),q=W[0],H=W[1],K=JSON.parse(localStorage.getItem("user")),Q=(0,r.useState)([]),V=(0,a.Z)(Q,2),X=V[0],ee=V[1],ne=(0,r.useState)(0),ie=(0,a.Z)(ne,2),se=ie[0],le=ie[1],te=(0,o.s0)();(0,r.useEffect)((function(){ue(),re(),me(),ve(),v.Z.addEventListener("re-appointment",(function(e){return ce(JSON.parse(e.data))})),v.Z.addEventListener("new-appointment",(function(e){return ae(JSON.parse(e.data))})),v.Z.addEventListener("status",(function(e){return de(JSON.parse(e.data))})),v.Z.addEventListener("booking-status",(function(e){return oe(JSON.parse(e.data))}))}),[]);var ae=function(e){ue()},ce=function(e){},de=function(e){re(),ue(),ve()},oe=function(e){H(e.bookingStatus)},re=function(){var e=(0,t.Z)((0,s.Z)().mark((function e(){var n,i,t,a,c;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.be.get("/clinic-detail",(0,l.Z)({params:{_id:g.id}},(0,d.Ek)()));case 3:i=e.sent,t=i.data,a=null===t||void 0===t?void 0:t.detail,y(a),R(null===a||void 0===a?void 0:a.timing),"00",c=(null===a||void 0===a?void 0:a.token)<10?"0".concat(null===a||void 0===a?void 0:a.token):(null===a||void 0===a?void 0:a.token)||"000",J(c),H(null===(n=t.detail)||void 0===n?void 0:n.bookingStatus),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=(0,t.Z)((0,s.Z)().mark((function e(){var n,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.be.get("/waiting-list/".concat(g.id),(0,d.Ek)());case 3:n=e.sent,i=n.data,_(null===i||void 0===i?void 0:i.appointment),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),ve=function(){var e=(0,t.Z)((0,s.Z)().mark((function e(){var n,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.be.get("/unreached-list/".concat(g.id),(0,d.Ek)());case 3:n=e.sent,i=n.data,z(null===i||void 0===i?void 0:i.unreached),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),he=function(e){le(e)},me=function(){var e=(0,t.Z)((0,s.Z)().mark((function e(){var n,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.be.get("/notice/".concat(g.id));case 3:n=e.sent,i=n.data,ee(null===i||void 0===i?void 0:i.notices),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"",children:[(0,p.jsx)("div",{className:"box"}),(0,p.jsxs)("div",{className:"clinicbanner",style:{backgroundImage:"url(".concat(null!==w&&void 0!==w&&w.photo?(0,d.a9)(null===w||void 0===w?void 0:w.photo):c,")"),backgroundRepeat:"no-repeat",backgroundSize:"100%"},children:[(0,p.jsx)("h4",{className:"clinic-detail-name",children:(null===w||void 0===w||null===(e=w.hospital)||void 0===e?void 0:e.name)||w.name}),(0,p.jsxs)("div",{className:"d-flex flex-row  clinic-detail-img-container ",children:[(0,p.jsx)("div",{className:"d-flex flex-row  justify-content-between  ",children:(0,p.jsxs)("div",{className:"mt-5 clinic-detail-mobile",children:[(0,p.jsx)("h4",{className:"text-light clinic-detail-drName rounded mt-4",children:null===(n=w.doctor)||void 0===n?void 0:n.name}),"Clinic"!==w.organizationType&&(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("h4",{className:"text-light clinic-detail-drName rounded",children:["Dept. ",w.name," "]})}),(0,p.jsx)("h6",{style:{display:"inline-block"},className:"text-light clinic-detail-drName rounded",children:(null===w||void 0===w||null===(i=w.specialization)||void 0===i?void 0:i.map((function(e){return e.name})))||"Specialization"}),(null===w||void 0===w?void 0:w.room)&&(0,p.jsxs)("h4",{className:"text-light clinic-detail-drName rounded",children:["Room No: ",null===w||void 0===w?void 0:w.room]})]})}),(0,p.jsx)("div",{className:"current-clicnic-token ml-5 d-flex flex-row",style:{position:"relative"},children:(0,p.jsx)("h1",{style:{position:"absolute",left:"15%",top:"15%"},children:Y})})]})]}),("PT"===(null===K||void 0===K?void 0:K.userType)||!K)&&(0,p.jsxs)("div",{className:"bookappoint cursor-pointer",onClick:function(){return q?(K||te("/login",{state:{redirectTo:window.location.pathname}}),void U(!0)):null},children:[(0,p.jsx)(h.G,{className:"bookappointment-icon",icon:m.a1i}),(0,p.jsx)("h5",{className:"p-2",children:q?"Book Appointment":"Booking Closed"})]}),(0,p.jsxs)("div",{className:"container-fluid",children:[(0,p.jsxs)("div",{className:"row clinic-details-row mt-5 mx-0",children:[(0,p.jsx)("div",{className:"col-md-6 ",children:(0,p.jsxs)("div",{className:"wating-area-clinic",children:[(0,p.jsxs)("div",{className:"d-flex justify-content-center waitinglistContainer",children:[(0,p.jsx)("span",{className:"text-center bg-success p-2",children:(0,p.jsx)("button",{onClick:function(){return he(0)},className:"btn position-inline p-2 btn-primary waitinglist  ".concat(0===se?"activeList":""),children:"Waiting List"})}),(0,p.jsx)("span",{className:"text-center bg-success p-2",children:(0,p.jsx)("button",{onClick:function(){return he(1)},className:"btn position-inline p-2 btn-primary waitinglist ".concat(1===se?"activeList":""),children:"Unreached List"})})]}),0===se&&(0,p.jsx)("div",{className:"token-list-container  rounded ",children:null!==O&&void 0!==O&&O.length?(0,p.jsx)("ul",{className:"token-list $",children:O.map((function(e,n){return(0,p.jsx)("li",{className:" p-2",children:(0,p.jsx)("div",{className:"mt-auto",children:(0,p.jsxs)("div",{className:"token-list-item d-flex flex-row justify-content-around ".concat((null===e||void 0===e?void 0:e.token)==parseInt(Y)?"token-list-active":""),children:[(0,p.jsx)("div",{className:"token ".concat((null===e||void 0===e?void 0:e.token)==parseInt(Y)?"token-active":""),children:(0,p.jsx)("h4",{className:"token-list-number",children:null===e||void 0===e?void 0:e.token})}),(0,p.jsxs)("div",{className:"token-list-detail",children:[(0,p.jsx)("h4",{className:"list-patient-name mb-1",children:null===e||void 0===e?void 0:e.name}),(0,p.jsxs)("p",{className:"mb-0 list-mobile-no",children:["Mobile Number : +91"," ",null!==e&&void 0!==e&&e.phone?"xxx-xxx-".concat(null===e||void 0===e?void 0:e.phone.slice(-4)):"----------"]}),(0,p.jsxs)("p",{className:"mb-0 list-address",children:["Address : ",null===e||void 0===e?void 0:e.address]})]})]})})},n)}))}):(0,p.jsx)("span",{children:"No Data"})}),1===se&&(0,p.jsx)("div",{className:"token-list-container ",children:null!==L&&void 0!==L&&L.length?(0,p.jsx)("ul",{className:"token-list $",children:L.map((function(e,n){return(0,p.jsx)("li",{className:" p-2",children:(0,p.jsx)("div",{className:"mt-auto",children:(0,p.jsxs)("div",{className:"token-list-item d-flex flex-row justify-content-around ".concat((null===e||void 0===e?void 0:e.token)==parseInt(Y)?"token-list-active":""),children:[(0,p.jsx)("div",{className:"token ".concat((null===e||void 0===e?void 0:e.token)==parseInt(Y)?"token-active":""),children:(0,p.jsx)("h4",{className:"token-list-number",children:null===e||void 0===e?void 0:e.token})}),(0,p.jsxs)("div",{className:"token-list-detail",children:[(0,p.jsx)("h4",{className:"list-patient-name mb-1",children:null===e||void 0===e?void 0:e.name}),(0,p.jsxs)("p",{className:"mb-0 list-mobile-no",children:["Mobile Number : +91"," ",null!==e&&void 0!==e&&e.phone?"xxx-xxx-".concat(null===e||void 0===e?void 0:e.phone.slice(-4)):"----------"]}),(0,p.jsxs)("p",{className:"mb-0 list-address",children:["Address : ",null===e||void 0===e?void 0:e.address]})]})]})})},n)}))}):(0,p.jsx)("span",{children:"No Data"})})]})}),(0,p.jsxs)("div",{className:"col-md-6 ",children:[(0,p.jsxs)("div",{className:"clinic-info-details pb-3 mb-3",children:[(0,p.jsx)("h4",{className:"mb-3 pt-2  text-center text-light",children:"Info"}),(0,p.jsx)("div",{className:"bg-white m-2 rounded p-2",children:(0,p.jsxs)("h6",{children:["Consultation Fee"," ",(0,p.jsxs)("span",{className:"ms-4",children:["\u20b9",null===w||void 0===w?void 0:w.fee]})]})}),(0,p.jsxs)("div",{className:"bg-white m-2 rounded p-2",children:[(0,p.jsx)("h6",{className:"mx-1",children:"Services"}),(0,p.jsx)("div",{className:"d-flex flex-wrap",children:(null===w||void 0===w||null===(j=w.services)||void 0===j?void 0:j.length)>0?null===w||void 0===w||null===(N=w.services)||void 0===N?void 0:N.map((function(e){return(0,p.jsx)("div",{className:"service-tube m-1",children:null===e||void 0===e?void 0:e.name})})):null===w||void 0===w||null===(f=w.hospital)||void 0===f||null===(b=f.services)||void 0===b?void 0:b.map((function(e){return(0,p.jsx)("div",{className:"service-tube m-1",children:null===e||void 0===e?void 0:e.name})}))})]}),(0,p.jsxs)("div",{className:"bg-white m-2 rounded p-2",children:[(0,p.jsx)("h6",{children:"Important Notice"}),(null===X||void 0===X?void 0:X.length)>0&&X.map((function(e){return(0,p.jsxs)("div",{style:{borderLeft:"5px solid grey",paddingLeft:"1rem"},children:[(0,p.jsx)("h6",{className:"text-danger",children:e.title}),(0,p.jsx)("p",{className:"text-danger",children:e.description})]})}))]})]}),(0,p.jsx)("div",{className:"text-center",children:(0,p.jsx)("div",{className:"pr-2 m-text",children:(0,p.jsxs)("table",{className:"table  table-bordered",children:[(0,p.jsx)("thead",{className:"thead-light",children:"Clinic"===(null===w||void 0===w?void 0:w.organizationType)?(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{children:"Session"}),(0,p.jsx)("th",{children:"Morn Open"}),(0,p.jsx)("th",{children:"Morn Close"}),(0,p.jsx)("th",{children:"Even Open"}),(0,p.jsx)("th",{children:"Even Close"})]}):(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{children:"Session"}),(0,p.jsx)("th",{children:"Open"}),(0,p.jsx)("th",{children:"Close"})]})}),(0,p.jsx)("tbody",{children:Object.entries(x.vr).map((function(e){var n=(0,a.Z)(e,2);return function(e,n,i){var s,l,t,a,c=B.find((function(n){return n.day===e}));return"Clinic"===i?(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:n}),(0,p.jsx)("td",{children:(0,d.YZ)(null===c||void 0===c||null===(s=c.morning)||void 0===s?void 0:s.open)}),(0,p.jsx)("td",{children:(0,d.YZ)(null===c||void 0===c||null===(l=c.morning)||void 0===l?void 0:l.close)}),(0,p.jsx)("td",{children:(0,d.YZ)(null===c||void 0===c||null===(t=c.evening)||void 0===t?void 0:t.open)}),(0,p.jsx)("td",{children:(0,d.YZ)(null===c||void 0===c||null===(a=c.evening)||void 0===a?void 0:a.close)})]}):(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:n}),(0,p.jsx)("td",{children:(0,d.YZ)(null===c||void 0===c?void 0:c.open)}),(0,p.jsx)("td",{children:(0,d.YZ)(null===c||void 0===c?void 0:c.close)})]})}(n[0],n[1],null===w||void 0===w?void 0:w.organizationType)}))})]})})})]})]}),(0,p.jsxs)("div",{className:"contact-details-clinic pt-3",children:[(0,p.jsxs)("div",{className:"sigma_info style-26 d-flex",children:[(0,p.jsx)("div",{className:"sigma_info-title",children:(0,p.jsx)("span",{className:"sigma_info-icon clinic-address-icon-container",children:(0,p.jsx)(h.G,{className:"clinic-address-icon",icon:m.Mzo})})}),(0,p.jsx)("div",{className:"sigma_info-description",children:(0,p.jsxs)("div",{className:"clinic-footer-address",children:[(0,p.jsx)("p",{children:"Our Address"}),(0,p.jsx)("p",{className:"secondary-color",children:(0,p.jsx)("b",{children:null===w||void 0===w?void 0:w.address})})]})})]}),(0,p.jsxs)("div",{className:"sigma_info style-26 d-flex",children:[(0,p.jsx)("div",{className:"sigma_info-title d-flex",children:(0,p.jsxs)("span",{className:"sigma_info-icon clinic-address-icon-container",children:[(0,p.jsx)(h.G,{className:"clinic-address-icon",icon:m.j1w}),(0,p.jsx)("i",{className:"fal fa-phone"})]})}),(0,p.jsxs)("div",{className:"sigma_info-description",children:[(0,p.jsx)("p",{children:"Call Us"}),(0,p.jsx)("p",{className:"secondary-color",children:(0,p.jsx)("b",{children:(0,d.CN)(null===w||void 0===w?void 0:w.phone)})})]})]}),(0,p.jsxs)("div",{className:"sigma_info style-26 d-flex",children:[(0,p.jsx)("div",{className:"sigma_info-title",children:(0,p.jsx)("span",{className:"sigma_info-icon clinic-address-icon-container",children:(0,p.jsx)(h.G,{className:"clinic-address-icon",icon:m.FU$})})}),(0,p.jsxs)("div",{className:"sigma_info-description",children:[(0,p.jsx)("p",{children:"Our Mail"}),(0,p.jsx)("p",{className:"secondary-color",children:(0,p.jsx)("b",{children:null===w||void 0===w?void 0:w.email})})]})]})]})]})]}),G&&(0,p.jsx)(u.Z,{isOpen:G,setIsOpen:U,departmentId:null===w||void 0===w?void 0:w._id,refresh:function(){}})]})}},5812:function(e,n,i){e.exports=i.p+"static/media/user-profile-bg-1920x400.d51b6ea479713cd0985a.jpg"}}]);
//# sourceMappingURL=342.fc3e87ba.chunk.js.map